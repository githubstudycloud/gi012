# GraphRAG vs LightRAG 选型分析

## 原文理解

原文核心观点：**不要盲目在生产环境使用 GraphRAG**。

---

## 关键概念解释

### 1. RAG 是什么？

RAG (Retrieval-Augmented Generation) = 检索增强生成

简单说：让 AI 先"查资料"，再"回答问题"，避免胡说八道。

### 2. 三种 RAG 方案对比

| 方案 | 原理 | 优点 | 缺点 |
|------|------|------|------|
| **传统 Hybrid RAG** | 向量检索 + 关键词检索 | 简单、便宜、成熟 | 只能找到"局部"相关内容 |
| **LightRAG** | 轻量级增强检索 | 平衡成本与效果 | 跨文档能力一般 |
| **GraphRAG** | 构建知识图谱，理解实体关系 | 能做"跨文档宏观总结" | **贵！复杂！** |

### 3. GraphRAG 的两大痛点

#### 痛点一：索引成本高（Token 消耗）

```
传统 RAG：文档 → 切片 → 向量化 → 存储
GraphRAG：文档 → LLM提取实体 → LLM构建关系 → 图谱存储
                    ↑                ↑
              消耗大量 Token    消耗大量 Token
```

**举例**：处理 100 篇文档
- 传统 RAG：几乎不消耗 LLM Token（用 embedding 模型）
- GraphRAG：可能消耗 100 万+ Token（每篇都要 LLM 分析）

#### 痛点二：维护复杂（图谱更新）

- 新增文档 → 需要重新分析关系
- 删除文档 → 需要清理孤立节点
- 修改文档 → 需要更新受影响的边

### 4. 什么时候才该用 GraphRAG？

**适用场景**（约 10% 的需求）：
- 需要跨多个文档做"宏观总结"
- 例如："公司过去三年所有项目的共同风险点是什么？"
- 例如："这 50 篇论文的研究趋势是什么？"

**不适用场景**（约 90% 的需求）：
- 找文档、答问题
- 例如："退货政策是什么？"
- 例如："这个 API 怎么用？"

---

## 结论

| 需求类型 | 推荐方案 | 理由 |
|----------|----------|------|
| 简单问答、文档检索 | Hybrid RAG | 便宜、够用 |
| 需要一定关联能力 | LightRAG | 性价比高 |
| 必须跨文档宏观分析 | GraphRAG | 贵但必要 |

**一句话总结**：别为了 10% 的需求，承担 100% 的成本。
