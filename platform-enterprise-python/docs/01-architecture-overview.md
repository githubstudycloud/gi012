# Platform Enterprise Python - æ¶æ„æ€»è§ˆ

## 1. é¡¹ç›®æ¦‚è¿°

**Platform Enterprise Python** æ˜¯ä¸€ä¸ªåŸºäº Python æœ€æ–°æŠ€æœ¯æ ˆçš„ä¼ä¸šçº§å¾®æœåŠ¡å¹³å°ï¼Œé‡‡ç”¨ Monorepo æ¶æ„è®¾è®¡ï¼Œæ—¨åœ¨æä¾›é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€æ˜“ç»´æŠ¤çš„åç«¯æœåŠ¡è§£å†³æ–¹æ¡ˆã€‚

### 1.1 è®¾è®¡ç›®æ ‡

| ç›®æ ‡ | æè¿° |
|------|------|
| **é«˜æ€§èƒ½** | åŸºäºå¼‚æ­¥ I/Oï¼Œå•æœåŠ¡ QPS è¾¾åˆ° 10,000+ |
| **å¯æ‰©å±•** | æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œæ”¯æŒ Kubernetes è‡ªåŠ¨ä¼¸ç¼© |
| **å¯ç»´æŠ¤** | æ¨¡å—åŒ–è®¾è®¡ï¼Œæ¸…æ™°çš„ä»£ç è¾¹ç•Œå’ŒèŒè´£åˆ†ç¦» |
| **å¯è§‚æµ‹** | å®Œæ•´çš„æ—¥å¿—ã€æŒ‡æ ‡ã€é“¾è·¯è¿½è¸ªä¸‰ä½ä¸€ä½“ |
| **å®‰å…¨æ€§** | é›¶ä¿¡ä»»æ¶æ„ï¼Œå®Œå–„çš„è®¤è¯æˆæƒä½“ç³» |
| **å¼€å‘æ•ˆç‡** | ç»Ÿä¸€å·¥å…·é“¾ï¼Œè‡ªåŠ¨åŒ– CI/CD |

### 1.2 æ ¸å¿ƒæŠ€æœ¯é€‰å‹

```
æ„å»ºå·¥å…·: uv (Astral) - æ¯” pip å¿« 10-100x
ä»£ç è´¨é‡: Ruff - æ›¿ä»£ Flake8/Black/isort
Webæ¡†æ¶: FastAPI 0.115+ - å¼‚æ­¥ä¼˜å…ˆ
æ•°æ®éªŒè¯: Pydantic v2 - Rust æ ¸å¿ƒ
ORM: SQLAlchemy 2.0 - åŸç”Ÿå¼‚æ­¥æ”¯æŒ
æ•°æ®åº“: PostgreSQL 16+ / Redis 7+
æ¶ˆæ¯é˜Ÿåˆ—: Redis Streams / RabbitMQ
å®¹å™¨åŒ–: Docker + Kubernetes
```

---

## 2. Monorepo æ¶æ„

### 2.1 ç›®å½•ç»“æ„

```
platform-enterprise-python/
â”œâ”€â”€ pyproject.toml              # æ ¹å·¥ä½œç©ºé—´é…ç½®
â”œâ”€â”€ uv.lock                     # ç»Ÿä¸€é”æ–‡ä»¶
â”œâ”€â”€ ruff.toml                   # å…¨å±€ Ruff é…ç½®
â”œâ”€â”€ .python-version             # Python ç‰ˆæœ¬é”å®š
â”‚
â”œâ”€â”€ libs/                       # å…±äº«åº“ (Shared Libraries)
â”‚   â”œâ”€â”€ platform-core/          # æ ¸å¿ƒåŸºç¡€åº“
â”‚   â”œâ”€â”€ platform-db/            # æ•°æ®åº“æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ platform-cache/         # ç¼“å­˜æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ platform-messaging/     # æ¶ˆæ¯é˜Ÿåˆ—æŠ½è±¡
â”‚   â””â”€â”€ platform-observability/ # å¯è§‚æµ‹æ€§ç»„ä»¶
â”‚
â”œâ”€â”€ services/                   # å¾®æœåŠ¡ (Microservices)
â”‚   â”œâ”€â”€ platform-api/           # API ç½‘å…³æœåŠ¡
â”‚   â”œâ”€â”€ platform-auth/          # è®¤è¯æˆæƒæœåŠ¡
â”‚   â”œâ”€â”€ platform-user/          # ç”¨æˆ·ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ platform-worker/        # åå°ä»»åŠ¡æœåŠ¡
â”‚   â””â”€â”€ platform-notification/  # é€šçŸ¥æœåŠ¡
â”‚
â”œâ”€â”€ tools/                      # å¼€å‘å·¥å…·
â”‚   â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ generators/             # ä»£ç ç”Ÿæˆå™¨
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»
â”‚
â”œâ”€â”€ deploy/                     # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker/                 # Dockerfile é›†åˆ
â”‚   â”œâ”€â”€ kubernetes/             # K8s æ¸…å•
â”‚   â””â”€â”€ terraform/              # IaC é…ç½®
â”‚
â””â”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ 01-architecture-overview.md
    â”œâ”€â”€ 02-technology-stack.md
    â”œâ”€â”€ 03-service-design.md
    â”œâ”€â”€ 04-development-guide.md
    â””â”€â”€ 05-deployment-ops.md
```

### 2.2 å·¥ä½œç©ºé—´é…ç½®

æ ¹ç›®å½• `pyproject.toml` å®šä¹‰å·¥ä½œç©ºé—´ï¼š

```toml
[project]
name = "platform-enterprise-python"
version = "1.0.0"
requires-python = ">=3.12"

[tool.uv]
managed = true

[tool.uv.workspace]
members = [
    "libs/*",
    "services/*",
]

[tool.uv.sources]
platform-core = { workspace = true }
platform-db = { workspace = true }
platform-cache = { workspace = true }
platform-messaging = { workspace = true }
platform-observability = { workspace = true }

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
```

---

## 3. ç³»ç»Ÿæ¶æ„å›¾

### 3.1 æ•´ä½“æ¶æ„

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚           Load Balancer             â”‚
                                    â”‚        (Nginx / Traefik)            â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                              â”‚                              â”‚
                    â–¼                              â–¼                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  platform-api    â”‚           â”‚  platform-api    â”‚           â”‚  platform-api    â”‚
         â”‚   (Instance 1)   â”‚           â”‚   (Instance 2)   â”‚           â”‚   (Instance N)   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                              â”‚                              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                  â”‚                                  â”‚
              â–¼                                  â–¼                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  platform-auth    â”‚              â”‚  platform-user    â”‚              â”‚ platform-worker   â”‚
   â”‚  (è®¤è¯æˆæƒæœåŠ¡)    â”‚              â”‚  (ç”¨æˆ·ç®¡ç†æœåŠ¡)    â”‚              â”‚  (åå°ä»»åŠ¡æœåŠ¡)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                  â”‚                                  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚                                       â”‚
        â–¼                                       â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL   â”‚                      â”‚     Redis     â”‚                      â”‚  RabbitMQ     â”‚
â”‚  (ä¸»æ•°æ®åº“)    â”‚                      â”‚ (ç¼“å­˜/Session) â”‚                      â”‚ (æ¶ˆæ¯é˜Ÿåˆ—)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æœåŠ¡é—´é€šä¿¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          é€šä¿¡æ¨¡å¼çŸ©é˜µ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€šä¿¡ç±»å‹        â”‚  åè®®/æŠ€æœ¯         â”‚  ä½¿ç”¨åœºæ™¯                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŒæ­¥è¯·æ±‚        â”‚  HTTP/REST        â”‚  API ç½‘å…³ â†’ å†…éƒ¨æœåŠ¡               â”‚
â”‚  åŒæ­¥è¯·æ±‚        â”‚  gRPC             â”‚  æœåŠ¡é—´é«˜æ€§èƒ½è°ƒç”¨ (å¯é€‰)           â”‚
â”‚  å¼‚æ­¥æ¶ˆæ¯        â”‚  Redis Streams    â”‚  äº‹ä»¶é©±åŠ¨ã€ä»»åŠ¡åˆ†å‘                â”‚
â”‚  å¼‚æ­¥æ¶ˆæ¯        â”‚  RabbitMQ         â”‚  å¤æ‚è·¯ç”±ã€å¯é æŠ•é€’                â”‚
â”‚  å®æ—¶æ¨é€        â”‚  WebSocket        â”‚  é€šçŸ¥ã€çŠ¶æ€æ›´æ–°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. åˆ†å±‚æ¶æ„

æ¯ä¸ªå¾®æœåŠ¡å†…éƒ¨é‡‡ç”¨æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Presentation Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Routers   â”‚  â”‚   Schemas   â”‚  â”‚   Dependencies      â”‚  â”‚
â”‚  â”‚ (Endpoints) â”‚  â”‚  (Pydantic) â”‚  â”‚   (DI Container)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Service Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Business Logic Services                 â”‚    â”‚
â”‚  â”‚   - Use Cases / Application Services                 â”‚    â”‚
â”‚  â”‚   - Domain Services                                  â”‚    â”‚
â”‚  â”‚   - Orchestration / Saga Coordination               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Domain Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Entities  â”‚  â”‚ Value Objs  â”‚  â”‚   Domain Events     â”‚  â”‚
â”‚  â”‚   (Models)  â”‚  â”‚             â”‚  â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Infrastructure Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Repositoryâ”‚ â”‚  Cache   â”‚ â”‚ Message  â”‚ â”‚External APIs  â”‚   â”‚
â”‚  â”‚  (DB)    â”‚ â”‚  Client  â”‚ â”‚  Queue   â”‚ â”‚  Clients      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. å…³é”®è®¾è®¡åŸåˆ™

### 5.1 Twelve-Factor App

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ª [Twelve-Factor App](https://12factor.net/) æ–¹æ³•è®ºï¼š

| åŸåˆ™ | å®ç°æ–¹å¼ |
|------|----------|
| **I. Codebase** | Monorepo, Git ç‰ˆæœ¬æ§åˆ¶ |
| **II. Dependencies** | `uv.lock` æ˜¾å¼å£°æ˜ |
| **III. Config** | Pydantic Settings + ç¯å¢ƒå˜é‡ |
| **IV. Backing Services** | æ•°æ®åº“ã€ç¼“å­˜ä½œä¸ºé™„åŠ èµ„æº |
| **V. Build, Release, Run** | CI/CD Pipeline ä¸¥æ ¼åˆ†ç¦» |
| **VI. Processes** | æ— çŠ¶æ€è¿›ç¨‹ï¼ŒSession å­˜ Redis |
| **VII. Port Binding** | æœåŠ¡è‡ªåŒ…å«ï¼Œç»‘å®šç«¯å£ |
| **VIII. Concurrency** | æ°´å¹³æ‰©å±•ï¼Œè¿›ç¨‹æ¨¡å‹ |
| **IX. Disposability** | å¿«é€Ÿå¯åŠ¨ï¼Œä¼˜é›…å…³é—­ |
| **X. Dev/Prod Parity** | Docker ä¿è¯ç¯å¢ƒä¸€è‡´ |
| **XI. Logs** | æ ‡å‡†è¾“å‡ºï¼Œç»“æ„åŒ– JSON |
| **XII. Admin Processes** | ç®¡ç†ä»»åŠ¡ä½œä¸ºä¸€æ¬¡æ€§è¿›ç¨‹ |

### 5.2 SOLID åŸåˆ™

- **S** - å•ä¸€èŒè´£ï¼šæ¯ä¸ªæœåŠ¡ä¸“æ³¨å•ä¸€ä¸šåŠ¡åŸŸ
- **O** - å¼€é—­åŸåˆ™ï¼šé€šè¿‡ä¾èµ–æ³¨å…¥æ‰©å±•åŠŸèƒ½
- **L** - é‡Œæ°æ›¿æ¢ï¼šæ¥å£æŠ½è±¡ï¼Œå®ç°å¯æ›¿æ¢
- **I** - æ¥å£éš”ç¦»ï¼šç»†ç²’åº¦æ¥å£å®šä¹‰
- **D** - ä¾èµ–å€’ç½®ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°

---

## 6. å®‰å…¨æ¶æ„

### 6.1 é›¶ä¿¡ä»»æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Zero Trust Model                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚   Client    â”‚â”€â”€â”€â”€â–¶â”‚  API GW     â”‚â”€â”€â”€â”€â–¶â”‚  Service    â”‚    â”‚
â”‚   â”‚             â”‚     â”‚  + Auth     â”‚     â”‚             â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                   â”‚                   â”‚             â”‚
â”‚         â”‚                   â”‚                   â”‚             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚            Identity Provider (IdP)              â”‚        â”‚
â”‚   â”‚         JWT / OAuth 2.0 / OIDC                  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                               â”‚
â”‚   Every request is:                                           â”‚
â”‚   âœ“ Authenticated (JWT validation)                           â”‚
â”‚   âœ“ Authorized (RBAC/ABAC)                                   â”‚
â”‚   âœ“ Encrypted (TLS 1.3)                                      â”‚
â”‚   âœ“ Audited (Access logs)                                    â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 è®¤è¯æµç¨‹

```
Client                  API Gateway              Auth Service           Resource Service
  â”‚                         â”‚                         â”‚                        â”‚
  â”‚  1. Login Request       â”‚                         â”‚                        â”‚
  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚                        â”‚
  â”‚                         â”‚  2. Forward to Auth     â”‚                        â”‚
  â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
  â”‚                         â”‚                         â”‚                        â”‚
  â”‚                         â”‚  3. Validate & Issue JWTâ”‚                        â”‚
  â”‚                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
  â”‚  4. Return JWT          â”‚                         â”‚                        â”‚
  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚                        â”‚
  â”‚                         â”‚                         â”‚                        â”‚
  â”‚  5. Request + JWT       â”‚                         â”‚                        â”‚
  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚                        â”‚
  â”‚                         â”‚  6. Validate JWT        â”‚                        â”‚
  â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
  â”‚                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
  â”‚                         â”‚  7. Forward Request     â”‚                        â”‚
  â”‚                         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
  â”‚                         â”‚  8. Response            â”‚                        â”‚
  â”‚                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
  â”‚  9. Response            â”‚                         â”‚                        â”‚
  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚                        â”‚
```

---

## 7. å¯è§‚æµ‹æ€§æ¶æ„

### 7.1 ä¸‰æ”¯æŸ±

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         Observability Stack        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Metrics   â”‚          â”‚   Logging   â”‚          â”‚   Tracing   â”‚
    â”‚ Prometheus  â”‚          â”‚ Loki/ELK    â”‚          â”‚   Jaeger    â”‚
    â”‚ + Grafana   â”‚          â”‚             â”‚          â”‚   /Tempo    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     OpenTelemetry SDK                       â”‚
    â”‚              (ç»Ÿä¸€åŸ‹ç‚¹ï¼Œæ ‡å‡†åŒ–æ•°æ®æ ¼å¼)                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å…³é”®æŒ‡æ ‡

| ç±»åˆ« | æŒ‡æ ‡ | SLO ç›®æ ‡ |
|------|------|----------|
| å¯ç”¨æ€§ | è¯·æ±‚æˆåŠŸç‡ | â‰¥ 99.9% |
| å»¶è¿Ÿ | P99 å“åº”æ—¶é—´ | â‰¤ 500ms |
| åå | æ¯ç§’è¯·æ±‚æ•° | â‰¥ 10,000 RPS |
| é”™è¯¯ | 5xx é”™è¯¯ç‡ | â‰¤ 0.1% |

---

## 8. ä¸‹ä¸€æ­¥

- ğŸ“„ [02-technology-stack.md](02-technology-stack.md) - è¯¦ç»†æŠ€æœ¯æ ˆé€‰å‹
- ğŸ“„ [03-service-design.md](03-service-design.md) - å„æœåŠ¡è¯¦ç»†è®¾è®¡
- ğŸ“„ [04-development-guide.md](04-development-guide.md) - å¼€å‘è§„èŒƒæŒ‡å—
- ğŸ“„ [05-deployment-ops.md](05-deployment-ops.md) - éƒ¨ç½²ä¸è¿ç»´

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2026-01-06
**ä½œè€…**: Platform Architecture Team
